{"ast":null,"code":"import React from'react';import{useState,useEffect}from'react';import{io}from'socket.io-client';import{useLocation}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const socket=io(\"http://localhost:3009\");function Soc(){const locate=useLocation();const rom=locate.state;const[msg,setMsg]=useState([]);const[text,setText]=useState(\"\");const[sorted,setSorted]=useState([]);function oon(e){setText(e.target.value);}useEffect(()=>{socket.emit(\"romsg\",rom);},[msg]);function on(e){e.preventDefault();const tt={tex:text,time:new Date().toLocaleTimeString()};socket.emit(\"msg\",tt);setMsg(prev=>[...prev,tt]);setSorted(prev=>[...prev,msg]);}return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"dd\",children:[/*#__PURE__*/_jsx(\"header\",{className:\"hh\",children:/*#__PURE__*/_jsx(\"h1\",{className:\"hd\",children:\"Let's Chat\"})}),/*#__PURE__*/_jsx(\"br\",{}),sorted.map((i,index)=>/*#__PURE__*/_jsx(\"div\",{className:\"hhhh\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"hhhh1\",children:[i.text,/*#__PURE__*/_jsx(\"footer\",{className:\"fff\",children:/*#__PURE__*/_jsx(\"small\",{children:/*#__PURE__*/_jsx(\"sub\",{children:i.time})})})]})})),/*#__PURE__*/_jsxs(\"div\",{className:\"iii\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"iiiii\",type:\"text\",name:\"input\",onChange:oon}),/*#__PURE__*/_jsx(\"button\",{className:\"bb\",type:\"submit\",onClick:on,children:\"\\uD83D\\uDE80\"})]})]})});}export default Soc;","map":{"version":3,"names":["React","useState","useEffect","io","useLocation","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","socket","Soc","locate","rom","state","msg","setMsg","text","setText","sorted","setSorted","oon","e","target","value","emit","on","preventDefault","tt","tex","time","Date","toLocaleTimeString","prev","children","className","map","i","index","type","name","onChange","onClick"],"sources":["C:/Users/sathw/testapp/client/src/so.js"],"sourcesContent":["import React from 'react';\r\nimport {useState,useEffect} from 'react';\r\nimport {io} from 'socket.io-client';\r\nimport {useLocation} from 'react-router-dom';\r\nconst socket=io(\"http://localhost:3009\");\r\nfunction Soc(){\r\n    const locate=useLocation();\r\n    const rom=locate.state;\r\n    const [msg,setMsg]=useState([]);\r\n    const [text,setText]=useState(\"\");\r\n    const [sorted,setSorted]=useState([]);\r\n    function oon(e){\r\n        setText(e.target.value);\r\n    }\r\n    useEffect(()=>{\r\n        socket.emit(\"romsg\",rom);\r\n    },[msg]);\r\n    function on(e){\r\n        e.preventDefault();\r\n        const tt={tex:text,time:new Date().toLocaleTimeString()};\r\n        socket.emit(\"msg\",tt);\r\n        setMsg((prev)=>[...prev,tt]);\r\n        setSorted((prev)=>[...prev,msg]);\r\n    }\r\n    return(\r\n        <>\r\n         <div className=\"dd\">\r\n                <header className=\"hh\"><h1 className=\"hd\">Let's Chat</h1></header>\r\n                <br/>\r\n                {sorted.map((i,index)=>(\r\n                    <div className=\"hhhh\"><div className=\"hhhh1\">{i.text}<footer className=\"fff\"><small><sub>{i.time}</sub></small></footer></div></div>))}\r\n                <div className=\"iii\">\r\n                    <input className=\"iiiii\" type=\"text\" name=\"input\" onChange={oon}/>\r\n                    <button className=\"bb\" type=\"submit\" onClick={on}>ðŸš€</button>\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\nexport default Soc;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}